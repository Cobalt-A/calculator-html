!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#car_price"),t=document.querySelector("#range_car_price"),r=document.querySelector("#first_pay"),u=document.querySelector("#range_first_pay"),a=document.querySelector(".range__label-percent"),n=document.querySelector("#time"),l=document.querySelector("#range_time"),i=document.querySelector(".calculator-form__summ-full"),o=document.querySelector(".calculator-form__summ-months");function c(e){var t=e.min,r=e.max,u=e.value;e.style.backgroundSize=100*(u-t)/(r-t)+"% 100%"}function d(e,t){return Math.round(100*t/e)}t.addEventListener("input",(function(t){e.value=t.target.value,u.setAttribute("min",10*t.target.value/100),u.setAttribute("max",60*t.target.value/100),u.value=Math.round(t.target.value*Number(a.innerHTML)/100),r.value=Math.round(t.target.value*Number(a.innerHTML)/100),a.innerHTML=d(t.target.value,r.value)})),e.addEventListener("input",(function(e){t.value=e.target.value,u.setAttribute("min",10*e.target.value/100),u.setAttribute("max",60*e.target.value/100),u.value=Math.round(e.target.value*Number(a.innerHTML)/100),r.value=Math.round(e.target.value*Number(a.innerHTML)/100),a.innerHTML=d(e.target.value,r.value)})),u.addEventListener("input",(function(t){r.value=Math.round(t.target.value),a.innerHTML=d(Number(e.value),r.value)})),r.addEventListener("input",(function(t){u.value=Math.round(t.target.value),a.innerHTML=d(Number(e.value),r.value)})),l.addEventListener("input",(function(e){n.value=e.target.value})),n.addEventListener("input",(function(e){l.value=e.target.value})),document.querySelector(".calculator-form").addEventListener("input",(function(t){var u=Math.round((Number(e.value)-Number(r.value))*(.05*Math.pow(Number(n.value),.05)/Math.pow(Number(n.value),.05))),a=Math.round(Number(r.value)+Number(n.value)*Number(u));o.innerHTML=new Intl.NumberFormat("ru-RU").format(u),i.innerHTML=new Intl.NumberFormat("ru-RU").format(a)})),document.querySelector(".calculator-form__button").addEventListener("click",(function(c){var d=c.target.closest(".calculator-form__button"),s=d.querySelector(".calculator-form__button-text"),v=d.querySelector(".calculator-form__loader");console.log(s),console.log(v),s.classList.add("hide"),v.classList.remove("hide"),setTimeout((function(){var c={carPrice:e.value,firstPay:r.value,percent:a.value,time:n.value,monthsSum:o.innerHTML.replace(/&nbsp(?:;?)/gi," ").replace(/\s/g,""),fullSum:i.innerHTML.replace(/&nbsp(?:;?)/gi," ").replace(/\s/g,"")},m=JSON.stringify(c);s.classList.remove("hide"),v.classList.add("hide"),d.setAttribute("disabled",""),e.setAttribute("disabled",""),r.setAttribute("disabled",""),n.setAttribute("disabled",""),t.setAttribute("disabled",""),u.setAttribute("disabled",""),l.setAttribute("disabled",""),alert(m)}),1e3)})),document.querySelectorAll(".range__input").forEach((function(e){c(e),e.addEventListener("input",(function(e){c(e.target)}))}))}))}();