!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#car_price"),t=document.querySelector("#range_car_price"),r=document.querySelector("#first_pay"),u=document.querySelector("#range_first_pay"),a=document.querySelector(".range-content__label-percent"),n=document.querySelector("#time"),l=document.querySelector("#range_time"),o=document.querySelector(".calculator-form__summ-full"),c=document.querySelector(".calculator-form__summ-months");function i(e,t){return Math.round(100*t/e)}t.addEventListener("input",(function(t){e.value=t.target.value,u.setAttribute("min",10*t.target.value/100),u.setAttribute("max",60*t.target.value/100),u.value=Math.round(t.target.value*Number(a.innerHTML)/100),r.value=Math.round(t.target.value*Number(a.innerHTML)/100),a.innerHTML=i(t.target.value,r.value)})),e.addEventListener("input",(function(e){t.value=e.target.value,u.setAttribute("min",10*e.target.value/100),u.setAttribute("max",60*e.target.value/100),u.value=Math.round(e.target.value*Number(a.innerHTML)/100),r.value=Math.round(e.target.value*Number(a.innerHTML)/100),a.innerHTML=i(e.target.value,r.value)})),u.addEventListener("input",(function(t){r.value=Math.round(t.target.value),a.innerHTML=i(Number(e.value),r.value)})),r.addEventListener("input",(function(t){u.value=Math.round(t.target.value),a.innerHTML=i(Number(e.value),r.value)})),l.addEventListener("input",(function(e){n.value=e.target.value})),n.addEventListener("input",(function(e){l.value=e.target.value})),document.querySelector(".calculator-form").addEventListener("input",(function(t){var u=Math.round((Number(e.value)-Number(r.value))*(.05*Math.pow(Number(n.value),.05)/Math.pow(Number(n.value),.05))),a=Math.round(Number(r.value)+Number(n.value)*Number(u));c.innerHTML=new Intl.NumberFormat("ru-RU").format(u),o.innerHTML=new Intl.NumberFormat("ru-RU").format(a)})),document.querySelector(".calculator-form__button").addEventListener("click",(function(t){var u=t.target.closest(".calculator-form__button"),l=u.querySelector(".calculator-form__button-text"),i=u.querySelector(".calculator-form__loader");console.log(l),console.log(i),l.classList.add("hide"),i.classList.remove("hide"),setTimeout((function(){var t={carPrice:e.value,firstPay:r.value,percent:a.value,time:n.value,monthsSum:c.innerHTML.replace(/&nbsp(?:;?)/gi," ").replace(/\s/g,""),fullSum:o.innerHTML.replace(/&nbsp(?:;?)/gi," ").replace(/\s/g,"")},v=JSON.stringify(t);l.classList.remove("hide"),i.classList.add("hide"),u.setAttribute("disabled",""),alert(v)}),1e3)}))}))}();